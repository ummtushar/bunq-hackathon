"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_commit-checks-status_index_ts"],{76373:(e,t,a)=>{a.d(t,{xC:()=>S,B6:()=>_,ym:()=>w});var o=a(74848),r=a(21728),l=a(38621),s=a(55847),c=a(87330),n=a(30729),i=a(94977),d=a(96540),m=a(34164),u=a(75177),x=a(63867),f=a(74144),h=a(62456),p=a(34614),g=a(42522),y=a(52464);function b(e){let t,a,s,c,n,i,d,m,x,f,b,v,C,k,S,j,I,_,N;let A=(0,r.c)(43),{checkRun:w}=e;A[0]!==w.icon?(t=function(e){switch(e){case"check":return(0,o.jsx)(l.CheckIcon,{className:"fgColor-success my-0 mx-2 flex-self-center"});case"dot-fill":return(0,o.jsx)(l.DotFillIcon,{className:"fgColor-attention my-0 mx-2 flex-self-center"});case"stop":return(0,o.jsx)(l.StopIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"issue-reopened":return(0,o.jsx)(l.IssueReopenedIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"clock":return(0,o.jsx)(l.ClockIcon,{className:"fgColor-attention my-0 mx-2 flex-self-center"});case"square-fill":return(0,o.jsx)(l.SquareFillIcon,{className:"fgColor-default my-0 mx-2 flex-self-center"});case"skip":return(0,o.jsx)(l.SkipIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"alert":return(0,o.jsx)(l.AlertIcon,{className:"fgColor-danger my-0 mx-2 flex-self-center"});default:return(0,o.jsx)(l.XIcon,{className:"fgColor-danger my-0 mx-2 flex-self-center"})}}(w.icon),A[0]=w.icon,A[1]=t):t=A[1];let D=t,B="in_progress"===w.state;return A[2]===Symbol.for("react.memo_cache_sentinel")?(a={display:"flex",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"border.default",backgroundColor:"canvas.subtle",py:2,pr:3,pl:"12px",alignItems:"center"},A[2]=a):a=A[2],A[3]===Symbol.for("react.memo_cache_sentinel")?(s={alignSelf:"center",display:"flex"},A[3]=s):s=A[3],A[4]!==D||A[5]!==B?(c=B?(0,o.jsx)(u.A,{sx:{height:"16px",width:"16px",minWidth:"16px",alignSelf:"center",mx:"7px"},children:(0,o.jsxs)("svg",{fill:"none",viewBox:"0 0 16 16",className:"anim-rotate","aria-hidden":"true",role:"img",children:[(0,o.jsx)("path",{opacity:".5",d:"M8 15A7 7 0 108 1a7 7 0 000 14v0z",stroke:"#dbab0a",strokeWidth:"2"}),(0,o.jsx)("path",{d:"M15 8a7 7 0 01-7 7",stroke:"#dbab0a",strokeWidth:"2"}),(0,o.jsx)("path",{d:"M8 12a4 4 0 100-8 4 4 0 000 8z",fill:"#dbab0a"})]})}):(0,o.jsx)(o.Fragment,{children:D}),A[4]=D,A[5]=B,A[6]=c):c=A[6],A[7]===Symbol.for("react.memo_cache_sentinel")?(n={mr:2},A[7]=n):n=A[7],A[8]!==w.avatarBackgroundColor?(i={backgroundColor:w.avatarBackgroundColor},A[8]=w.avatarBackgroundColor,A[9]=i):i=A[9],A[10]!==w.avatarLogo||A[11]!==i?(d=(0,o.jsx)(h.r,{square:!0,src:w.avatarLogo,sx:i}),A[10]=w.avatarLogo,A[11]=i,A[12]=d):d=A[12],A[13]!==w.avatarUrl||A[14]!==d?(m=(0,o.jsx)(p.A,{href:w.avatarUrl,sx:n,"aria-label":"Avatar",children:d}),A[13]=w.avatarUrl,A[14]=d,A[15]=m):m=A[15],A[16]!==w.avatarDescription||A[17]!==m?(x=(0,o.jsx)(g.m,{text:w.avatarDescription,direction:"e",children:m}),A[16]=w.avatarDescription,A[17]=m,A[18]=x):x=A[18],A[19]!==c||A[20]!==x?(f=(0,o.jsxs)(u.A,{sx:s,children:[c,x]}),A[19]=c,A[20]=x,A[21]=f):f=A[21],A[22]===Symbol.for("react.memo_cache_sentinel")?(b={fontSize:"13px",color:"fg.muted"},A[22]=b):b=A[22],A[23]===Symbol.for("react.memo_cache_sentinel")?(v={fontWeight:"bold",color:"fg.default",mr:"2px"},A[23]=v):v=A[23],A[24]!==w.name?(C=(0,o.jsxs)(y.A,{sx:v,children:[w.name," "]}),A[24]=w.name,A[25]=C):C=A[25],A[26]!==w.additionalContext||A[27]!==w.pending?(k=w.pending?(0,o.jsx)(y.A,{sx:{fontStyle:"italic"},children:w.additionalContext}):w.additionalContext,A[26]=w.additionalContext,A[27]=w.pending,A[28]=k):k=A[28],A[29]!==w.description||A[30]!==w.pending?(S=w.description&&(0,o.jsxs)("span",{children:[" ","- ",w.pending?(0,o.jsx)(y.A,{sx:{fontStyle:"italic"},children:w.description}):w.description]}),A[29]=w.description,A[30]=w.pending,A[31]=S):S=A[31],A[32]!==C||A[33]!==k||A[34]!==S?(j=(0,o.jsxs)(y.A,{sx:b,children:[C,k,S]}),A[32]=C,A[33]=k,A[34]=S,A[35]=j):j=A[35],A[36]===Symbol.for("react.memo_cache_sentinel")?(I={pl:"12px",fontSize:"13px",marginLeft:"auto"},A[36]=I):I=A[36],A[37]!==w.targetUrl?(_=(0,o.jsx)(p.A,{href:w.targetUrl,sx:I,children:"Details"}),A[37]=w.targetUrl,A[38]=_):_=A[38],A[39]!==f||A[40]!==j||A[41]!==_?(N=(0,o.jsxs)(u.A,{"data-testid":"check-run-item",as:"li",sx:a,children:[f,j,_]}),A[39]=f,A[40]=j,A[41]=_,A[42]=N):N=A[42],N}try{b.displayName||(b.displayName="CheckRunItem")}catch{}function v(e){let t,a,l;let s=(0,r.c)(5),{checkRuns:c}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"column",maxHeight:["230px","380px"],overflow:"auto"},s[0]=t):t=s[0],s[1]!==c?(a=c.map(C),s[1]=c,s[2]=a):a=s[2],s[3]!==a?(l=(0,o.jsx)(u.A,{as:"ul",sx:t,children:a}),s[3]=a,s[4]=l):l=s[4],l}function C(e,t){return(0,o.jsx)(b,{checkRun:e},t)}try{v.displayName||(v.displayName="ChecksStatusBadgeFooter")}catch{}function k(e){let t=(0,r.c)(4),{checksHeaderState:a}=e;switch(a){case"SUCCEEDED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(y.A,{sx:{fontWeight:"bold",fontSize:2},children:"All checks have passed"}),t[0]=e):e=t[0],e}case"FAILED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(y.A,{sx:{color:"var(--fgColor-danger, var(--color-danger-fg))",fontWeight:"bold",fontSize:2},children:"All checks have failed"}),t[1]=e):e=t[1],e}case"PENDING":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(y.A,{sx:{color:"var(--fgColor-attention, var(--color-attention-fg))",fontWeight:"bold",fontSize:2},children:"Some checks haven\u2019t completed yet"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(y.A,{sx:{color:"var(--fgColor-danger, var(--color-danger-fg))",fontWeight:"bold",fontSize:2},children:"Some checks were not successful"}),t[3]=e):e=t[3],e}}}try{k.displayName||(k.displayName="HeaderState")}catch{}function S(e){let t,a;let l=(0,r.c)(7),{combinedStatus:s,isOpen:c,onDismiss:n}=e;l[0]!==s?(t=s?(0,o.jsx)(k,{checksHeaderState:s.checksHeaderState}):"Loading...",l[0]=s,l[1]=t):t=l[1];let i=t;return l[2]!==s||l[3]!==c||l[4]!==n||l[5]!==i?(a=c?(0,o.jsx)(f.l,{onClose:n,sx:{overflowY:"auto",backgroundColor:"canvas.default",boxShadow:"none",border:"1px solid",borderColor:"border.default",borderBottom:0},title:i,subtitle:s?s.checksStatusSummary:void 0,width:"xlarge",renderBody:()=>(0,o.jsx)(f.l.Body,{sx:{padding:0},children:s?(0,o.jsx)(v,{checkRuns:s.checkRuns}):(0,o.jsx)(u.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,o.jsx)(x.A,{size:"medium"})})})}):null,l[2]=s,l[3]=c,l[4]=n,l[5]=i,l[6]=a):a=l[6],a}try{S.displayName||(S.displayName="CheckStatusDialog")}catch{}let j={success:{circled:l.CheckCircleIcon,filled:l.CheckCircleFillIcon,default:l.CheckIcon,color:"var(--bgColor-success-emphasis, var(--color-success-emphasis))"},pending:{circled:l.CircleIcon,filled:l.DotFillIcon,default:l.DotFillIcon,color:"var(--bgColor-attention-emphasis, var(--color-scale-yellow-4))"},failure:{circled:l.XCircleIcon,filled:l.XCircleFillIcon,default:l.XIcon,color:"var(--bgColor-danger-emphasis, var(--color-scale-red-4))"},error:{circled:l.QuestionIcon,filled:l.QuestionIcon,default:l.QuestionIcon,color:"var(--fgColor-muted, var(--color-canvas-subtle))"}};function I(e){let t,a,l,s,c;let u=(0,r.c)(19),{className:x,descriptionText:f,icon:h,iconColor:p,tooltipText:g}=e,y=(0,d.useId)(),b=g?y:void 0,v=g?void 0:f||"See all checks";u[0]!==p?(t={color:p},u[0]=p,u[1]=t):t=u[1],u[2]!==h||u[3]!==b||u[4]!==v||u[5]!==t?(a=(0,o.jsx)(n.A,{"aria-labelledby":b,icon:h,"aria-label":v,sx:t}),u[2]=h,u[3]=b,u[4]=v,u[5]=t,u[6]=a):a=u[6];let C=a;if(g){let e;u[7]!==C||u[8]!==y||u[9]!==g?(e=(0,o.jsx)(i.A,{id:y,"aria-label":g,direction:"e",children:C}),u[7]=C,u[8]=y,u[9]=g,u[10]=e):e=u[10],C=e}return u[11]!==x?(l=(0,m.$)(x,"d-flex flex-items-center gap-1"),u[11]=x,u[12]=l):l=u[12],u[13]!==f?(s=f&&(0,o.jsxs)("span",{children:[" ",f]}),u[13]=f,u[14]=s):s=u[14],u[15]!==C||u[16]!==l||u[17]!==s?(c=(0,o.jsxs)("span",{className:l,"data-testid":"checks-status-badge-icon-only",children:[C,s]}),u[15]=C,u[16]=l,u[17]=s,u[18]=c):c=u[18],c}function _(e){let t,a,l,n;let m=(0,r.c)(27),{statusRollup:u,combinedStatus:x,variant:f,disablePopover:h,buttonSx:p,size:g,descriptionText:y,onWillOpenPopup:b}=e,v=void 0===f?"default":f,C=void 0===g?"medium":g,k=void 0===y?"":y,[_,N]=(0,d.useState)(!1),A=(0,d.useId)(),w=(0,d.useRef)(null),D=j[u],B=D?.[v]||j.error[v],z=D?.color||j.error.color;m[0]!==B||m[1]!==z?(t={icon:B,iconColor:z},m[0]=B,m[1]=z,m[2]=t):t=m[2];let{icon:W,iconColor:F}=t;if("error"===u){let e;let t=h?void 0:"p-1";return m[3]!==W||m[4]!==F||m[5]!==t?(e=(0,o.jsx)(I,{className:t,descriptionText:"?/?",icon:W,iconColor:F,tooltipText:"There was an error retrieving checks status"}),m[3]=W,m[4]=F,m[5]=t,m[6]=e):e=m[6],e}if(h){let e;return m[7]!==k||m[8]!==W||m[9]!==F?(e=(0,o.jsx)(I,{descriptionText:k,icon:W,iconColor:F}),m[7]=k,m[8]=W,m[9]=F,m[10]=e):e=m[10],e}return m[11]!==p||m[12]!==x?.checksStatusSummary||m[13]!==k||m[14]!==b||m[15]!==W||m[16]!==F||m[17]!==C||m[18]!==u||m[19]!==A?(a=k?(0,o.jsx)(s.Q,{"data-testid":"checks-status-badge-button",leadingVisual:W,variant:"invisible",size:C,"aria-label":x?.checksStatusSummary??`Status checks: ${u}`,sx:{p:1,color:"fg.default",fontWeight:"normal",svg:{color:F},...p},ref:w,onClick:()=>{b?.(),N(!0)},children:k}):(0,o.jsx)(i.A,{id:A,"aria-label":x?.checksStatusSummary??u,direction:"se",sx:{mr:2},children:(0,o.jsx)(c.K,{unsafeDisableTooltip:!0,"data-testid":"checks-status-badge-icon",icon:W,variant:"invisible",size:C,"aria-labelledby":A,sx:{py:0,px:0,svg:{color:F},":hover:not([disabled])":{bg:"pageHeaderBg"},...p},ref:w,onClick:()=>{b?.(),N(!0)}})}),m[11]=p,m[12]=x?.checksStatusSummary,m[13]=k,m[14]=b,m[15]=W,m[16]=F,m[17]=C,m[18]=u,m[19]=A,m[20]=a):a=m[20],m[21]!==x||m[22]!==_?(l=_&&(0,o.jsx)(S,{combinedStatus:x,isOpen:_,onDismiss:()=>{N(!1),setTimeout(()=>{w.current?.focus()},0)}}),m[21]=x,m[22]=_,m[23]=l):l=m[23],m[24]!==a||m[25]!==l?(n=(0,o.jsxs)(o.Fragment,{children:[a,l]}),m[24]=a,m[25]=l,m[26]=n):n=m[26],n}try{I.displayName||(I.displayName="IconOnlyStatus")}catch{}try{_.displayName||(_.displayName="ChecksStatusBadge")}catch{}var N=a(5796),A=a(57572);function w(e,t){let a,o;let l=(0,r.c)(7),[s,c]=(0,d.useState)(),[n,i]=(0,d.useState)();l[0]!==e||l[1]!==n||l[2]!==t?(a=async()=>{if(n!==e&&(i(e),c(void 0),e)){let a=(0,N.vki)(t,e),o=await (0,A.lS)(a);c(await o.json())}},l[0]=e,l[1]=n,l[2]=t,l[3]=a):a=l[3];let m=a;return l[4]!==s||l[5]!==m?(o=[s,m],l[4]=s,l[5]=m,l[6]=o):o=l[6],o}}}]);
//# sourceMappingURL=ui_packages_commit-checks-status_index_ts-adc04a70867d.js.map